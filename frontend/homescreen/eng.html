<!DOCTYPE html>
<html>
<head>
    <script>
        function updateWeather() {
            // Make an API call to fetch the weather data
            fetch('https://api.weatherapi.com/v1/current.json?key=a54d7ce19e71448ebd092119231305&q=Barcelona')
                .then(response => response.json())
                .then(data => {
                    // Extract the actual weather conditions and temperature
                    var conditions = data.current.condition.text;
                    var temperatureC = data.current.temp_c;
                    console.log(conditions);
                    console.log(temperatureC);
                    // Update the paragraph elements with the weather information
                    document.getElementById("Sunny").textContent = conditions;
                    document.getElementById("temp").textContent = temperatureC + "°C";
                })
                .catch(error => {
                    console.log('Error:', error);
                });
        }
    
        // Refresh the weather information every 10 minutes (600,000 milliseconds)
        window.onload = function() {
            updateWeather();
            setInterval(updateWeather, 600000);
        };
    </script>
    <script>
        updateWeather();
        function padZero(number) {
            // Helper function to pad a single digit number with a leading zero
            return (number < 10 ? '0' : '') + number;
        }
    
        function updateTime() {
            // Get the current date and time
            var now = new Date();
            
            // Calculate the modified times
            var depTime = padZero(now.getHours() - 1) + ":" + padZero(now.getMinutes()) + ":" + padZero(now.getSeconds());
            var actualTime = padZero(now.getHours()) + ":" + padZero(now.getMinutes()) + ":" + padZero(now.getSeconds());
            var destTime = padZero(now.getHours() + 2) + ":" + padZero(now.getMinutes()) + ":" + padZero(now.getSeconds());
            
            // Update the paragraph elements with the modified times
            document.getElementById("DepTime").textContent = depTime;
            document.getElementById("ActualTime").textContent = actualTime;
            document.getElementById("DestTime").textContent = destTime;
        }
    
        // Refresh the times every second
        window.onload = function() {
            updateTime();
            setInterval(updateTime, 1000);
        };
    </script>

<link rel="stylesheet" href="/frontend/css/4launchpad.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="eng.css">
</head>
<body>
    <div class="container">
        <div class="left">
            <div class="left-upper">
                <p id="DepTimeH" onclick="updateWeather()">Origin Time</p>
                <p id="DepTime">Origin Time</p>
                <p id="ActualTimeH">actual time</p>
                <p id="ActualTime">Time</p>
                <p id="DestTimeH">Destination Time</p>
                <p id="DestTime">Destination Time</p>
            </div>
            <div class="left-bottom">
                <!-- Display "SUNNY" 23ºC-->
                <div id="weather">
                    <img src="sunny.png" alt="Sunny" id="weatherIcon" height="60px">
                    <p id="Sunny">Partly cloudy</p>
                    <p id="atdest">at destination</p>
                    <p id="temp">23ºC</p>
                </div>
            </div>
        </div>
        <div class="right">
            <div class="list">
                <div class="apps">
                    hi
                </div>
            </div>
        </div>
    </div>
</body>
</html>
